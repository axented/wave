(window.webpackJsonp=window.webpackJsonp||[]).push([[18],{"3A9p":function(t,e,r){"use strict";r.r(e),r.d(e,"ProductsServicesModule",function(){return T});var i=r("ofXK"),c=r("1kSV"),o=r("njyG"),b=r("tyNb"),a=r("3Pt+"),d=r("5eHb"),n=r("bE4C"),s=r("fXoL"),l=r("UbJi"),u=r("T/S4");let p=(()=>{class t{constructor(t,e,r,i,c){this.activeModal=t,this.auth=e,this.fb=r,this.firestoreService=i,this.toastr=c,this.productForm=this.fb.group({description:["",a.t.required],name:["",a.t.required],price:["",a.t.required]})}ngOnInit(){""!=this.id&&this.getProduct()}setSubmitText(){return""==this.id?"Add Product":"Save changes"}submitProduct(t){this.auth.currentUser.then(e=>{var r,i,c;let o=new n.a({id:"",description:null===(r=t.get("description"))||void 0===r?void 0:r.value,name:null===(i=t.get("name"))||void 0===i?void 0:i.value,ownerId:e.uid,price:null===(c=t.get("price"))||void 0===c?void 0:c.value,quantity:1,taxable:16});""==this.id?this.firestoreService.createProduct(o).then(()=>{this.toastr.success("Product added"),this.activeModal.close()}).catch(t=>{console.error("Something went wront creating a product: ",t)}):this.firestoreService.updateProduct(this.id,o).then(()=>{this.toastr.success("Changes saved"),this.activeModal.close()},t=>{console.error("Something went wrong: ",t)})})}getProduct(){this.firestoreService.getProduct(this.id).subscribe(t=>{this.productForm.patchValue({description:t.payload.data().description,name:t.payload.data().name,price:t.payload.data().price})})}}return t.\u0275fac=function(e){return new(e||t)(s.Pb(c.a),s.Pb(l.a),s.Pb(a.e),s.Pb(u.a),s.Pb(d.b))},t.\u0275cmp=s.Jb({type:t,selectors:[["app-add-products"]],inputs:{id:"id"},features:[s.Cb([d.b])],decls:27,vars:3,consts:[[1,"modal-header"],[1,"content","container-fluid"],[1,"row"],[1,"col-md-12"],[1,"card"],[1,"card-body"],[1,"card-title","mt-4"],[3,"formGroup"],[1,"form-group"],["id","name","name","name","formControlName","name","type","text","required","",1,"form-control"],["rows","5","cols","5","placeholder","Enter Description","formControlName","description",1,"form-control"],["id","price","name","price","formControlName","price","type","text","required","",1,"form-control"],[1,"text-right","mt-4"],["type","button",1,"btn","btn-primary",3,"disabled","click"]],template:function(t,e){1&t&&(s.Ub(0,"div",0),s.Ub(1,"div",1),s.Ub(2,"div",2),s.Ub(3,"div",3),s.Ub(4,"div",4),s.Ub(5,"div",5),s.Ub(6,"h4",6),s.Dc(7,"Product Info"),s.Tb(),s.Ub(8,"form",7),s.Ub(9,"div",2),s.Ub(10,"div",3),s.Ub(11,"div",8),s.Ub(12,"label"),s.Dc(13,"Name"),s.Tb(),s.Qb(14,"input",9),s.Tb(),s.Ub(15,"div",8),s.Ub(16,"label"),s.Dc(17,"Description"),s.Tb(),s.Ub(18,"textarea",10),s.Dc(19,"\t\t\t\t\t\t\t\t\t\t"),s.Tb(),s.Tb(),s.Ub(20,"div",8),s.Ub(21,"label"),s.Dc(22,"Price"),s.Tb(),s.Qb(23,"input",11),s.Tb(),s.Tb(),s.Tb(),s.Ub(24,"div",12),s.Ub(25,"button",13),s.ec("click",function(){return e.submitProduct(e.productForm)}),s.Dc(26),s.Tb(),s.Tb(),s.Tb(),s.Tb(),s.Tb(),s.Tb(),s.Tb(),s.Tb(),s.Tb()),2&t&&(s.Db(8),s.mc("formGroup",e.productForm),s.Db(17),s.mc("disabled",!e.productForm.valid),s.Db(1),s.Fc(" ",e.setSubmitText()," "))},directives:[a.v,a.m,a.g,a.c,a.l,a.f,a.r],encapsulation:2}),t})();function m(t,e){if(1&t){const t=s.Vb();s.Ub(0,"tr"),s.Ub(1,"td"),s.Dc(2),s.Tb(),s.Ub(3,"td"),s.Dc(4),s.Tb(),s.Ub(5,"td"),s.Dc(6),s.Tb(),s.Ub(7,"td"),s.Dc(8),s.Tb(),s.Ub(9,"td",27),s.Ub(10,"a",29),s.ec("click",function(){s.vc(t);const r=e.$implicit;return s.gc().openAddProductsModal(r.id)}),s.Qb(11,"i",30),s.Dc(12," Edit"),s.Tb(),s.Ub(13,"a",31),s.ec("click",function(){s.vc(t);const r=e.$implicit;return s.gc().deleteProduct(r)}),s.Qb(14,"i",32),s.Dc(15,"Delete"),s.Tb(),s.Tb(),s.Tb()}if(2&t){const t=e.$implicit;s.Db(2),s.Ec(t.name),s.Db(2),s.Ec(t.description),s.Db(2),s.Fc("$ ",t.price,""),s.Db(2),s.Fc("% ",t.taxable,"")}}const v=[{path:"",component:(()=>{class t{constructor(t,e,r){this.auth=t,this.firestoreService=e,this.modalService=r,this.products=[],this.errorMessage=""}ngOnInit(){this.auth.currentUser.then(t=>{this.getProducts(t)})}deleteProduct(t){this.firestoreService.deleteProduct(t.id)}filter(){}openAddProductsModal(t){this.modalService.open(p,{animation:!0,size:"md"}).componentInstance.id=t}getProducts(t){this.firestoreService.getProducts().subscribe(e=>{this.products=[],e.forEach(e=>{e.payload.doc.data().ownerId===t.uid&&this.products.push({id:e.payload.doc.id,description:e.payload.doc.data().description,name:e.payload.doc.data().name,ownerId:e.payload.doc.data().ownerId,price:e.payload.doc.data().price,quantity:e.payload.doc.data().quantity,taxable:e.payload.doc.data().taxable})})},t=>this.errorMessage=t)}}return t.\u0275fac=function(e){return new(e||t)(s.Pb(l.a),s.Pb(u.a),s.Pb(c.c))},t.\u0275cmp=s.Jb({type:t,selectors:[["app-products-services"]],decls:56,vars:2,consts:[[1,"page-wrapper"],[1,"content","container-fluid"],[1,"page-header"],[1,"row","align-items-center"],[1,"col"],[1,"page-title"],[1,"breadcrumb"],[1,"breadcrumb-item"],[3,"routerLink"],[1,"breadcrumb-item","active"],[1,"col-auto"],["href","javascript:void(0)",1,"btn","btn-primary","mr-1",3,"click"],[1,"fas","fa-plus"],["href","javascript:void(0);",1,"btn","btn-primary","filter-btn",3,"click"],[1,"fas","fa-filter"],["id","filter_inputs",1,"card","filter-card"],[1,"card-body","pb-0"],[1,"row"],[1,"col-sm-6","col-md-3"],[1,"form-group"],["type","text",1,"form-control"],[1,"col-sm-12"],[1,"card","card-table"],[1,"card-body"],[1,"table-responsive"],[1,"table","table-center","table-hover","datatable"],[1,"thead-light"],[1,"text-right"],[4,"ngFor","ngForOf"],["href","javascript:void(0);",1,"btn","btn-sm","btn-white","text-success","mr-2",3,"click"],[1,"far","fa-edit","mr-1"],["href","javascript:void(0);",1,"btn","btn-sm","btn-white","text-danger","mr-2",3,"click"],[1,"far","fa-trash-alt","mr-1"]],template:function(t,e){1&t&&(s.Ub(0,"div",0),s.Ub(1,"div",1),s.Ub(2,"div",2),s.Ub(3,"div",3),s.Ub(4,"div",4),s.Ub(5,"h3",5),s.Dc(6,"Products & Services"),s.Tb(),s.Ub(7,"ul",6),s.Ub(8,"li",7),s.Ub(9,"a",8),s.Dc(10,"Dashboard"),s.Tb(),s.Tb(),s.Ub(11,"li",9),s.Dc(12,"Products & Services"),s.Tb(),s.Tb(),s.Tb(),s.Ub(13,"div",10),s.Ub(14,"a",11),s.ec("click",function(){return e.openAddProductsModal("")}),s.Qb(15,"i",12),s.Tb(),s.Ub(16,"a",13),s.ec("click",function(){return e.filter()}),s.Qb(17,"i",14),s.Tb(),s.Tb(),s.Tb(),s.Tb(),s.Ub(18,"div",15),s.Ub(19,"div",16),s.Ub(20,"div",17),s.Ub(21,"div",18),s.Ub(22,"div",19),s.Ub(23,"label"),s.Dc(24,"Name"),s.Tb(),s.Qb(25,"input",20),s.Tb(),s.Tb(),s.Ub(26,"div",18),s.Ub(27,"div",19),s.Ub(28,"label"),s.Dc(29,"Email"),s.Tb(),s.Qb(30,"input",20),s.Tb(),s.Tb(),s.Ub(31,"div",18),s.Ub(32,"div",19),s.Ub(33,"label"),s.Dc(34,"Phone"),s.Tb(),s.Qb(35,"input",20),s.Tb(),s.Tb(),s.Tb(),s.Tb(),s.Tb(),s.Ub(36,"div",17),s.Ub(37,"div",21),s.Ub(38,"div",22),s.Ub(39,"div",23),s.Ub(40,"div",24),s.Ub(41,"table",25),s.Ub(42,"thead",26),s.Ub(43,"tr"),s.Ub(44,"th"),s.Dc(45,"Name"),s.Tb(),s.Ub(46,"th"),s.Dc(47,"Description"),s.Tb(),s.Ub(48,"th"),s.Dc(49,"Price"),s.Tb(),s.Ub(50,"th"),s.Dc(51,"Taxable"),s.Tb(),s.Ub(52,"th",27),s.Dc(53,"Actions"),s.Tb(),s.Tb(),s.Tb(),s.Ub(54,"tbody"),s.Bc(55,m,16,4,"tr",28),s.Tb(),s.Tb(),s.Tb(),s.Tb(),s.Tb(),s.Tb(),s.Tb(),s.Tb(),s.Tb()),2&t&&(s.Db(9),s.mc("routerLink",""),s.Db(46),s.mc("ngForOf",e.products))},directives:[b.d,i.k],styles:[""]}),t})()}];let h=(()=>{class t{}return t.\u0275mod=s.Nb({type:t}),t.\u0275inj=s.Mb({factory:function(e){return new(e||t)},imports:[[b.e.forChild(v)],b.e]}),t})();var f=r("eSIH");let T=(()=>{class t{}return t.\u0275mod=s.Nb({type:t}),t.\u0275inj=s.Mb({factory:function(e){return new(e||t)},imports:[[i.b,h,f.b,c.d,o.a,a.i,a.q,d.a.forRoot({positionClass:"toast-bottom-right"})]]}),t})()}}]);